(function(){"use strict";var __webpack_modules__={301:function(){eval('\n;// CONCATENATED MODULE: ./src/news.js\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar NewsApi = /*#__PURE__*/function () {\n  function NewsApi(domain) {\n    var token = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "";\n\n    _classCallCheck(this, NewsApi);\n\n    console.log(domain);\n    this.domain = domain;\n    this.token = token;\n    console.log(this.domain);\n  }\n\n  _createClass(NewsApi, [{\n    key: "makeRequest",\n    value: function makeRequest(url) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return fetch(url, options).then(function (response) {\n        if (response.status === 200) {\n          return response.json();\n        }\n\n        return response.text().then(function (text) {\n          throw new Error(text);\n        });\n      });\n    }\n  }, {\n    key: "makeFormData",\n    value: function makeFormData(data) {\n      var formData = new FormData();\n\n      for (var key in data) {\n        formData.append(key, data[key]);\n      }\n\n      return formData;\n    }\n  }, {\n    key: "getAll",\n    value: function getAll() {\n      return this.makeRequest(this.domain + "all").then(console.log);\n    }\n  }, {\n    key: "get",\n    value: function get(id) {\n      return this.makeRequest(this.domain + "one/".concat(id)).then(console.log);\n    }\n  }, {\n    key: "delete",\n    value: function _delete(id) {\n      return this.makeRequest(this.domain + "delete/".concat(id), {\n        method: \'DELETE\',\n        headers: {\n          \'Content-Type\': \'application/json\'\n        }\n      }).then(console.log);\n    }\n  }, {\n    key: "add",\n    value: function add(title, content) {\n      var data = this.makeFormData({\n        title: title,\n        content: content\n      });\n      console.dir(data);\n      return this.makeRequest(this.domain + "add", {\n        method: \'POST\',\n        body: data\n      }).then(console.log);\n    }\n  }, {\n    key: "update",\n    value: function update(id, title, content) {\n      return this.makeRequest(this.domain + "update", {\n        method: \'PUT\',\n        headers: {\n          \'Content-Type\': \'application/json\'\n        },\n        body: JSON.stringify({\n          id: id,\n          title: title,\n          content: content\n        })\n      }).then(console.log);\n    }\n  }]);\n\n  return NewsApi;\n}();\n\n\n;// CONCATENATED MODULE: ./src/index.js\n\nvar getAllBtn = document.querySelector(".getAll");\nvar getOneBtn = document.querySelector(".getOne");\nvar addBtn = document.querySelector(".add");\nvar updateBtn = document.querySelector(".update");\nvar deleteBtn = document.querySelector(".delete");\nvar output = document.querySelector(".container");\nvar idInput = document.querySelector("#article-id");\nvar titleInput = document.querySelector("#title");\nvar contentidInput = document.querySelector("#content");\nvar news = new NewsApi(\'http://localhost/js/pro/api/server/\');\ngetAllBtn.addEventListener(\'click\', function () {\n  return news.getAll()["catch"](console.warn);\n});\ngetOneBtn.addEventListener(\'click\', function () {\n  return news.get(idInput.value)["catch"](console.warn);\n});\naddBtn.addEventListener(\'click\', function () {\n  return news.add(titleInput.value, contentidInput.value)["catch"](console.warn);\n});\nupdateBtn.addEventListener(\'click\', function () {\n  return news.get(idInput.value, titleInput.value, contentidInput.value)["catch"](console.warn);\n});\ndeleteBtn.addEventListener(\'click\', function () {\n  return news["delete"](idInput.value)["catch"](console.warn);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAxLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZHovLi9zcmMvbmV3cy5qcz8zY2U2Iiwid2VicGFjazovL2R6Ly4vc3JjL2luZGV4LmpzP2I2MzUiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgTmV3c0FwaVxyXG57XHJcbiAgICBjb25zdHJ1Y3Rvcihkb21haW4sIHRva2VuID0gXCJcIikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRvbWFpbik7XHJcbiAgICAgICAgdGhpcy5kb21haW4gPSBkb21haW47XHJcbiAgICAgICAgdGhpcy50b2tlbiAgPSB0b2tlbjtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmRvbWFpbik7XHJcbiAgICB9XHJcblxyXG4gICAgbWFrZVJlcXVlc3QgKHVybCwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucykudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpLnRoZW4odGV4dCA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IodGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG1ha2VGb3JtRGF0YShkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICBmb3IobGV0IGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIGRhdGFba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbGwoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3QodGhpcy5kb21haW4gKyBcImFsbFwiKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oY29uc29sZS5sb2cpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldChpZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KHRoaXMuZG9tYWluICsgYG9uZS8ke2lkfWApXHJcbiAgICAgICAgICAgICAgICAudGhlbihjb25zb2xlLmxvZylcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGUoaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdCh0aGlzLmRvbWFpbiArIGBkZWxldGUvJHtpZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oY29uc29sZS5sb2cpXHJcbiAgICB9XHJcblxyXG4gICAgYWRkKHRpdGxlLCBjb250ZW50KSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSB0aGlzLm1ha2VGb3JtRGF0YSh7dGl0bGUsIGNvbnRlbnR9KTtcclxuICAgICAgICBjb25zb2xlLmRpcihkYXRhKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYWtlUmVxdWVzdCh0aGlzLmRvbWFpbiArIGBhZGRgLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLCBcclxuICAgICAgICAgICAgYm9keTogZGF0YVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oY29uc29sZS5sb2cpXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKGlkLCB0aXRsZSwgY29udGVudCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KHRoaXMuZG9tYWluICsgYHVwZGF0ZWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7aWQsIHRpdGxlLCBjb250ZW50fSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKGNvbnNvbGUubG9nKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQge05ld3NBcGl9IiwiaW1wb3J0IHtOZXdzQXBpfSBmcm9tICcuL25ld3MnXHJcblxyXG5sZXQgZ2V0QWxsQnRuICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2V0QWxsXCIpO1xyXG5sZXQgZ2V0T25lQnRuICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2V0T25lXCIpO1xyXG5sZXQgYWRkQnRuICAgICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkXCIpO1xyXG5sZXQgdXBkYXRlQnRuICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXBkYXRlXCIpO1xyXG5sZXQgZGVsZXRlQnRuICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVsZXRlXCIpO1xyXG5sZXQgb3V0cHV0ICAgICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFpbmVyXCIpO1xyXG5sZXQgaWRJbnB1dCAgICAgICAgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXJ0aWNsZS1pZFwiKTtcclxubGV0IHRpdGxlSW5wdXQgICAgICAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RpdGxlXCIpO1xyXG5sZXQgY29udGVudGlkSW5wdXQgICA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGVudFwiKTtcclxuXHJcbmxldCBuZXdzID0gbmV3IE5ld3NBcGkoJ2h0dHA6Ly9sb2NhbGhvc3QvanMvcHJvL2FwaS9zZXJ2ZXIvJyk7XHJcblxyXG5nZXRBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBuZXdzLmdldEFsbCgpLmNhdGNoKGNvbnNvbGUud2FybikpO1xyXG5cclxuZ2V0T25lQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbmV3cy5nZXQoaWRJbnB1dC52YWx1ZSkuY2F0Y2goY29uc29sZS53YXJuKSk7XHJcblxyXG5hZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAgICAoKSA9PiBuZXdzLmFkZCh0aXRsZUlucHV0LnZhbHVlLCBjb250ZW50aWRJbnB1dC52YWx1ZSkuY2F0Y2goY29uc29sZS53YXJuKSk7XHJcblxyXG51cGRhdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBuZXdzLmdldChpZElucHV0LnZhbHVlLCB0aXRsZUlucHV0LnZhbHVlLCBjb250ZW50aWRJbnB1dC52YWx1ZSkuY2F0Y2goY29uc29sZS53YXJuKSk7XHJcblxyXG5kZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBuZXdzLmRlbGV0ZShpZElucHV0LnZhbHVlKS5jYXRjaChjb25zb2xlLndhcm4pKTtcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBRUE7OztBQUVBO0FBQ0E7QUFFQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFPQTs7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFLQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUxBO0FBUUE7Ozs7Ozs7O0FDcEVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///301\n')}},__webpack_exports__={};__webpack_modules__[301]()})();